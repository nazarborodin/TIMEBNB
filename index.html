<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TIMEBNB</title>

  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2232%22 height=%2232%22><rect width=%22100%%22 height=%22100%%22 fill=%22%23FFDC00%22/></svg>">

  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      overflow: hidden;
      font-family: Arial, sans-serif;
      touch-action: none;
    }
    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
    }

    .contract-area {
      cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23FFDC00'/%3E%3Cpath d='M16 8l-8 4.8V22.4L16 27.2l8-4.8V12.8z' fill='white'/%3E%3Cpath d='M16 8l-8 4.8V22.4L16 27.2l8-4.8V12.8z' fill='none' stroke='white' stroke-width='2'/%3E%3C/svg%3E") 16 16, auto;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.3/p5.min.js"></script>
  <script>
    let d = new Date();
    let hour, minute, second;
    let centre_x, centre_y;

    let showCopyMessage = false;
    let copyMessageTimer = 0;
    const contractAddress = "0x..........15.11.2025................4444";

    let scale = 1;
    let circleSize = 40;
    let circles = [];

    let images = {};
    let imageUrls = {
      1: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/1.png",
      2: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/2.png",
      3: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/3.png",
      4: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/4.png",
      5: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/5.png",
      6: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/6.png",
      7: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/7.png",
      8: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/8.png",
      9: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/9.png",
      10: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/903.png",
      11: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/11.png",
      12: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/12.png",
      13: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/13.png",
      14: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/14.png",
      15: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/15.png",
      16: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/16.png",
      17: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/17.png",
      18: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/18.png",
      19: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/902.png",
      20: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/20.png",
      21: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/21.png",
      22: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/22.png",
      23: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/23.png",
      24: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/24.png",
      25: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/25.png",
      26: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/26.png",
      27: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/27.png",
      28: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/901.png",
      29: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/29.png",
      30: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/30.png",
      31: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/31.png",
      32: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/32.png",
      33: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/33.png",
      34: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/34.png",
      35: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/35.png",
      36: "https://raw.githubusercontent.com/nazarborodin/TIMEBNB/main/36.png"
    };

    let bnbPrice = "—";
    let showCustomX = false;
    let xCursorX, xCursorY;
    let clickTimer = 0;

    // === ТРИ СЛОЯ ЧАСТИЦ ===
    let largeParticles = [];
    let mediumParticles = [];
    let smallParticles = [];

    function preload() {
      for (let key in imageUrls) {
        images[key] = loadImage(imageUrls[key]);
      }
    }

    // Вспомогательная функция: проверка перекрытия
    function isTooClose(newX, newY, existing, minDist) {
      for (let p of existing) {
        let d = dist(newX, newY, p.x, p.y);
        if (d < minDist) return true;
      }
      return false;
    }

    function setup() {
      resizeCanvasForMobile();
      noStroke();
      centre_x = width / 2;
      centre_y = height / 2;

      const attempts = 20;

      // === КРУПНЫЕ (25–35) ===
      const largeCount = Math.min(100, Math.floor(height / 8));
      const largeMin = 25, largeMax = 35;
      largeParticles = [];
      while (largeParticles.length < largeCount) {
        let x = random(width);
        let y = random(-height, 0);
        if (!isTooClose(x, y, largeParticles, largeMax)) {
          let speed = map(random(largeMin, largeMax), largeMin, largeMax, 1, 4) / 6;
          largeParticles.push({ x, y, size: random(largeMin, largeMax), speed });
        }
      }

      // === СРЕДНИЕ (16–24) ===
      const medCount = Math.min(200, Math.floor(height / 4));
      const medMin = 16, medMax = 24;
      mediumParticles = [];
      let tries = 0;
      while (mediumParticles.length < medCount && tries < attempts * medCount) {
        let x = random(width);
        let y = random(-height, 0);
        if (!isTooClose(x, y, mediumParticles, medMax)) {
          let speed = map(random(medMin, medMax), medMin, medMax, 1, 4) / 6;
          mediumParticles.push({ x, y, size: random(medMin, medMax), speed });
        }
        tries++;
      }

      // === МЕЛКИЕ (9–15) ===
      const smallCount = Math.min(400, height);
      const smallMin = 9, smallMax = 15;
      smallParticles = [];
      tries = 0;
      while (smallParticles.length < smallCount && tries < attempts * smallCount) {
        let x = random(width);
        let y = random(-height, 0);
        if (!isTooClose(x, y, smallParticles, smallMax)) {
          let speed = map(random(smallMin, smallMax), smallMin, smallMax, 1, 4) / 6;
          smallParticles.push({ x, y, size: random(smallMin, smallMax), speed });
        }
        tries++;
      }

      generateCircles();
      updateBNBPrice();
      setInterval(updateBNBPrice, 60000);
    }

    function draw() {
      background(0);

      // --- ОТРИСОВКА СЛОЁВ ЧАСТИЦ ПО ВСЕМУ ЭКРАНУ ---
      for (let p of largeParticles) {
        textSize(p.size);
        fill(255, 220, 0, 200);
        text("BNB", p.x, p.y);
        p.y += p.speed;
        if (p.y > height + p.size) {
          p.y = -p.size;
          p.x = random(width);
        }
      }

      for (let p of mediumParticles) {
        textSize(p.size);
        fill(255, 220, 0, 150);
        text("BNB", p.x, p.y);
        p.y += p.speed;
        if (p.y > height + p.size) {
          p.y = -p.size;
          p.x = random(width);
        }
      }

      for (let p of smallParticles) {
        textSize(p.size);
        fill(255, 220, 0, 100);
        text("BNB", p.x, p.y);
        p.y += p.speed;
        if (p.y > height + p.size) {
          p.y = -p.size;
          p.x = random(width);
        }
      }

      // --- ОСНОВНОЙ ИНТЕРФЕЙС ---
      d = new Date();
      let utcHour = d.getUTCHours();
      let utcMinute = d.getUTCMinutes();
      let utcSecond = d.getUTCSeconds();

      hour = addZero(utcHour);
      minute = addZero(utcMinute);
      second = addZero(utcSecond);

      scale = Math.min(width, height) / 800;
      generateCircles();

      let hour_size = 580 * scale;
      let hour_inner = hour_size - 80 * scale;
      let minute_size = 480 * scale;
      let minute_inner = minute_size - 60 * scale;
      let second_size = 400 * scale;
      let second_inner = second_size - 50 * scale;

      noStroke();

      fill(40);
      arc(centre_x, centre_y, hour_size, hour_size, -PI / 2, (utcHour / 12 * TWO_PI) - (PI / 2), PIE);
      fill(0);
      ellipse(centre_x, centre_y, hour_inner, hour_inner);

      fill(255, 220, 0);
      arc(centre_x, centre_y, minute_size, minute_size, -PI / 2, (utcMinute / 60 * TWO_PI) - (PI / 2), PIE);
      fill(0);
      ellipse(centre_x, centre_y, minute_inner, minute_inner);

      if (utcSecond > 0) {
        let secondAngle = (utcSecond / 60 * TWO_PI) - (PI / 2);
        fill(255);
        arc(centre_x, centre_y, second_size, second_size, -PI / 2, secondAngle, PIE);
      }
      fill(0);
      ellipse(centre_x, centre_y, second_inner, second_inner);

      textSize(14 * scale);
      textAlign(CENTER, CENTER);
      fill(255);
      text("0x..........15.11.2025", centre_x, centre_y - 120 * scale);
      text("................4444", centre_x, centre_y - 100 * scale);

      textSize(80 * scale);
      textStyle(BOLD);
      fill(255, 220, 0);
      text("TIME", centre_x, centre_y - 40 * scale);
      text("BNB", centre_x, centre_y + 40 * scale);

      textSize(40 * scale);
      fill(255);
      text(bnbPrice + " $", centre_x, centre_y + 110 * scale);

      for (let i = 0; i < circles.length; i++) {
        let c = circles[i];
        let num = c.num;
        if (c.hasImage && images[num] && images[num].width > 0) {
          push();
          translate(c.x, c.y);
          imageMode(CENTER);
          image(images[num], 0, 0, circleSize * scale, circleSize * scale);
          pop();
        } else {
          if (c.hovered) fill(255, 255, 0);
          else fill(255, 220, 0);
          ellipse(c.x, c.y, circleSize * scale, circleSize * scale);
          fill(0);
          textSize(16 * scale);
          textAlign(CENTER, CENTER);
          text(num, c.x, c.y);
        }
      }

      if (showCopyMessage) {
        fill(255, 220, 0);
        textSize(24 * scale);
        text("COPY", centre_x, centre_y + 160 * scale);
        if (millis() - copyMessageTimer > 2000) showCopyMessage = false;
      }

      if (showCustomX) {
        push();
        noStroke();
        fill(255, 220, 0);
        ellipse(xCursorX, xCursorY, 30 * scale, 30 * scale);
        fill(255);
        textAlign(CENTER, CENTER);
        textStyle(BOLD);
        textSize(24 * scale);
        text("X", xCursorX, xCursorY);
        pop();
      }

      if (clickTimer > 0 && millis() - clickTimer > 1000) {
        showCustomX = false;
        clickTimer = 0;
      }
    }

    function addZero(i) { return i < 10 ? "0" + i : i; }

    function generateCircles() {
      circles = [];
      let totalAngle = TWO_PI;
      let radius = 320 * scale;

      for (let i = 0; i < 36; i++) {
        let angle = -PI / 2 + (i / 36) * totalAngle;
        let x = centre_x + cos(angle) * radius;
        let y = centre_y + sin(angle) * radius;

        let num = i + 1;
        let clickableImage = ![10, 19, 28].includes(num);
        circles.push({
          x: x,
          y: y,
          num: num,
          hovered: false,
          hasImage: true,
          clickableImage: clickableImage,
          showXOnHover: clickableImage
        });
      }
    }

    function updateBNBPrice() {
      fetch('https://api.coingecko.com/api/v3/simple/price?ids=binancecoin&vs_currencies=usd')
        .then(response => response.json())
        .then(data => {
          if (data.binancecoin && data.binancecoin.usd) {
            bnbPrice = data.binancecoin.usd.toFixed(0);
          }
        })
        .catch(() => bnbPrice = "—");
    }

    function mouseMoved() {
      showCustomX = false;
      let textW1 = textWidth("0x..........15.11.2025") * scale;
      let textW2 = textWidth("................4444") * scale;
      let maxWidth = Math.max(textW1, textW2);
      let x1 = centre_x - maxWidth / 2;
      let y1 = centre_y - 130 * scale;
      let x2 = centre_x + maxWidth / 2;
      let y2 = centre_y - 90 * scale;

      if (mouseX >= x1 && mouseX <= x2 && mouseY >= y1 && mouseY <= y2) {
        document.body.classList.add('contract-area');
      } else {
        document.body.classList.remove('contract-area');
      }

      for (let c of circles) {
        if (c.showXOnHover && dist(mouseX, mouseY, c.x, c.y) < (circleSize * scale) / 2) {
          showCustomX = true;
          xCursorX = mouseX;
          xCursorY = mouseY;
          break;
        }
      }
    }

    function mousePressed() {
      let textW1 = textWidth("0x..........15.11.2025") * scale;
      let textW2 = textWidth("................4444") * scale;
      let maxWidth = Math.max(textW1, textW2);
      let x1 = centre_x - maxWidth / 2;
      let y1 = centre_y - 130 * scale;
      let x2 = centre_x + maxWidth / 2;
      let y2 = centre_y - 90 * scale;

      if (mouseX >= x1 && mouseX <= x2 && mouseY >= y1 && mouseY <= y2) {
        copyContract();
        return;
      }

      for (let c of circles) {
        if (dist(mouseX, mouseY, c.x, c.y) < (circleSize * scale) / 2 && c.clickableImage) {
          const urls = {
            1: "https://x.com/binance",
            2: "https://x.com/four_meme_",
            3: "https://x.com/lin_btc",
            4: "https://x.com/BTCdayu",
            5: "https://x.com/Arya_web3",
            6: "https://x.com/3ethtomoon",
            7: "https://x.com/Wmafia6",
            8: "https://x.com/cryp_orange",
            9: "https://x.com/zkgoudan",
            11: "https://x.com/4444_fun",
            12: "https://x.com/huahuayjy",
            13: "https://x.com/Mirro7777",
            14: "https://x.com/Huang2024",
            15: "https://x.com/cain_bnb",
            16: "https://x.com/cz_binance",
            17: "https://x.com/heyibinance",
            18: "https://x.com/BiliSquare",
            20: "https://x.com/EnHeng456",
            21: "https://x.com/GCsheng",
            22: "https://x.com/Ed_x0101",
            23: "https://x.com/DekuKing1",
            24: "https://x.com/cryptocishanjia",
            25: "https://x.com/connectfarm1",
            26: "https://x.com/brc20niubi",
            27: "https://x.com/hexiecs",
            29: "https://x.com/NFTfafafa",
            30: "https://x.com/Broccoli__czdog",
            31: "https://x.com/doushi0503",
            32: "https://x.com/Airdrop_Guard",
            33: "https://x.com/cryptolyxe",
            34: "https://x.com/Aster_DEX",
            35: "https://x.com/gmgnai",
            36: "https://x.com/PancakeSwap"
          };
          let url = urls[c.num];
          if (url) window.open(url, "_blank");
          clickTimer = millis();
          showCustomX = false;
          return;
        }
      }
    }

    function touchStarted() {
      return mousePressed();
    }

    function copyContract() {
      if (navigator.clipboard) {
        navigator.clipboard.writeText(contractAddress).then(() => {
          showCopyMessage = true;
          copyMessageTimer = millis();
        }).catch(() => {});
      }
    }

    function resizeCanvasForMobile() {
      createCanvas(window.innerWidth, window.innerHeight);
      centre_x = width / 2;
      centre_y = height / 2;
    }

    function windowResized() {
      resizeCanvasForMobile();
    }

    window.addEventListener('load', () => {
      setTimeout(resizeCanvasForMobile, 500);
    });
  </script>
</head>
<body>
</body>
</html>
